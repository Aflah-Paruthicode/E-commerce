<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
  rel="stylesheet">
  <title>DashFootwares</title>
  <link rel="icon" type="image/x-icon" href="/logo/DashFootwares.png">
<link rel="stylesheet" href="/css/adminCss/adminHome.css">
<link rel="stylesheet" href="/css/adminCss/adminListOrder.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>






<div class="ad-home-header-section">
    <div class="ad-home-header-container">
      <nav>
        <div class="logo">
          <img src="/logo/DashFootwares.png" alt="">
          <h3 style="color: black;font-size: 16px;font-weight: 400;margin: 0;"> DASH FOOTWARES </h3>
  
        </div>
        <img style="width: 2.5%;margin: 10px;" src="/userProfileImages/bell (1).png" alt="">
        <img style="width: 2.5%;margin: 10px;" src="/userProfileImages/user (1).png" alt="">
        <h3 style="color: black;font-size: 16px;font-weight: 400;margin-right: 25px;margin-bottom: 0;">Aflah</h3>
        <form action="/admin/logout">
          <input type="submit" value="Logout">
        </form>
  
  
      </nav>
    </div>
  </div>



  <div class="ad-home-dashboard-section">
    <div class="ad-home-dashboard-container">
      <div class="ad-home-dashboard-options">
  
        <button><img src="/adminOptionsImages/dashboard.png" alt=""><a href="/admin/dashboard">Dashboard</a></button>
        <button><img src="/adminOptionsImages/customer.png" alt=""><a href="/admin/customers">Customers</a></button>
        <button><img src="/adminOptionsImages/product.png" alt=""><a href="/admin/product">Products</a></button>
        <button><img src="/adminOptionsImages/checkout.png" alt=""><a href="/admin/orders">Orders</a></button>
        <button><img src="/adminOptionsImages/slider.png" alt=""><a href="/admin/banner">Banner Management</a></button>
        <button><img src="/adminOptionsImages/promo-code.png" alt=""><a href="/admin/couponManagement">Coupon Management</a></button>
        <button><img src="/adminOptionsImages/sales.png" alt=""><a href="/admin/salesReport">Sales Report</a></button>
        <button><img src="/adminOptionsImages/list.png" alt=""><a href="/admin/category">Category</a></button>
  
  
  
      </div>
  
      <div class="ad-home-dashboard-optionsDetailPage">
        <h2 style="align-self: self-start;">Banners</h2>

            <a href="/admin/loadAddBannerToSlide" class="btn btn-dark">Add Banner to slide</a>


              <div style="width: 100%; display: flex; justify-content: center;">
           <table class="table">

            <thead>
              <tr>
                <th scope="col">Description</th>
                <th scope="col">Upload New <br> <span><p style="font-weight: 400;color: red;">only takes : 1429 × 781 px</p></span></th>
                <th scope="col">Start Date</th>
                <th scope="col">End Date</th>
                <th scope="col">Status</th>
                <th scope="col">Update</th>


              </tr>
            </thead>
            <tbody>

                

              <% slideBanners.forEach((banner,index) => { %>

                <hr>

              <%  const d1 = new Date(banner.startDate) %>
               <% const d2 = new Date(banner.endDate) %>

                <% const timeDifference = Math.abs(d2 - d1); %>

                <% const dayDifference = Math.ceil(timeDifference / (1000 * 3600 * 24)) %>


                <tr style="background-color: #dbdbdb92; margin: 10px;">

                  <th scope="row"><%= banner.description %></th>
                  <td>

                      <% if (banner.image) { %>
                        <img src="/banners/<%= banner.image %>" alt="Current Banner" style="width: 100px; height: 60px;">
                      <% } %>

                  </td>
                  <td><%= banner.startDate.toLocaleDateString(  ) %></td>
                  <td><%= banner.endDate.toLocaleDateString(  ) %></td>
                  <td><%= dayDifference %> days left</td>
                  <td><a class="btn btn-dark" href="/admin/loadUpdateBanner/?bannerId=<%= banner._id %>">Update</a>
                  <a class="btn btn-danger" href="/admin/loadDeleteBanner/<%= banner._id %>">Delete</a></td>




                </tr>
              <% }) %>

                <hr>
                <hr>
                <hr>
                <hr>
                

              <% otherBanners.forEach((banner) => { %>

                <hr>
                <%  const d1 = new Date(banner.startDate) %>
               <% const d2 = new Date(banner.endDate) %>

                <% const timeDifference = Math.abs(d2 - d1); %>

                <% const dayDifference = Math.ceil(timeDifference / (1000 * 3600 * 24)) %>

                
                <tr style="background-color: #dbdbdb3a; margin: 10px;">

                  <th scope="row"><%= banner.description %></th>
                  <td>
                      <% if (banner.image) { %>
                        <img src="/banners/<%= banner.image %>" alt="Current Banner" style="max-width: 100px; max-height: 100px;">
                      <% } %>
                  </td>
                  <td><%= banner.startDate.toLocaleDateString(  ) %></td>
                  <td><%= banner.endDate.toLocaleDateString(  ) %></td>
                  <td><%= dayDifference %> days left</td>
                  <td><a class="btn btn-dark" href="/admin/loadUpdateBanner/?bannerId=<%= banner._id %>">Update</a></td>


                </tr>
              <% }) %>

              
            </tbody>

          </table>

        </div>
  
      </div>
    </div>
  </div>
  Swal.fire({
    title: 'Success!',
    text: `Image uploaded successfully for banner at ${index}th!`,
    icon: 'success',
    confirmButtonText: 'OK',
    allowOutsideClick: false,
    allowEscapeKey: false
}).then((result) => {
    if (result.isConfirmed) {
        console.log('SweetAlert confirmed');


      bannerImageReplace(formData)

    }
});



Swal.fire({
  title: 'Failed!',
  text: 'Image dimensions must be 1429 × 781 pixels.',
  icon: 'error',
  confirmButtonText: 'OK'
})

