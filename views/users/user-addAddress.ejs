<%- include('../layouts/header.ejs') %>
<link rel="stylesheet" href="/css/userCss/userProffile.css" />  

<link rel="stylesheet" href="/css/userCss/addAddress.css">

<div class="profile-wrapper">
  <aside class="profile-sidebar">
    <div class="user-greeting">
      <img src="/userProfileImages/user (1).png" alt="User" />
      <div>
        <small class="text-muted">Hello,</small>
        <h2><%= user.name %></h2>
      </div>
    </div>

    <nav class="nav-menu">
      <a href="/profile" class="nav-item-link"> <i class="fa-solid fa-gauge"></i> Account Overview </a>
      <a href="/myOrders" class="nav-item-link"> <i class="fa-solid fa-box"></i> My Orders </a>
      <a href="/manageAddress" class="nav-item-link active"> <i class="fa-solid fa-map-location-dot"></i> Manage Addresses </a>
      <a href="/whishlist" class="nav-item-link"> <i class="fa-solid fa-heart"></i> My Wishlist </a>
      <a href="/wallet" class="nav-item-link"> <i class="fa-solid fa-wallet"></i> Wallet </a>
      <a href="/logout" class="nav-item-link text-danger"> <i class="fa-solid fa-right-from-bracket"></i> Logout </a>
    </nav>
  </aside>

  <main class="profile-content">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h3 class="fw-bold m-0">Manage Address</h3>
    </div>

      <main class="profile-content" style="border: none;">
        <div class="d-flex align-items-center mb-4" style="display: flex; align-items: center; gap: 8px;">
          <a href="/manageAddress" class="btn btn-sm btn-outline-dark me-3">
            <i class="fa-solid fa-arrow-left"></i>
          </a>
          <h3 class="fw-bold m-0">Add New Address</h3>
        </div>

        <div class="form-card-premium">
          <form action="/addAddress" method="post" class="modern-form">
            <div class="row g-4">
              <div class="col-md-4">
                <div class="input-group-custom">
                  <label><i class="fa-solid fa-globe me-2"></i>Country</label>
                  <select id="country" name="country" class="form-select-custom" required>
                    <% if(typeof details !== 'undefined') { %>
                    <option value="<%= details.country %>" selected><%= details.country %></option>
                    <% } else { %>
                    <option value="" disabled selected>Select Country</option>
                    <option value="India">India</option>
                    <% } %>
                  </select>
                </div>
              </div>

              <div class="col-md-4">
                <div class="input-group-custom">
                  <label><i class="fa-solid fa-map me-2"></i>State</label>
                  <select id="state" name="state" class="form-select-custom" required>
                    <% if(typeof details !== 'undefined') { %>
                    <option value="<%= details.state %>" selected><%= details.state %></option>
                    <% } else { %>
                    <option value="" disabled selected>Select State</option>
                    <option value="Kerala">Kerala</option>
                    <% } %>
                  </select>
                </div>
              </div>

              <div class="col-md-4">
                <div class="input-group-custom">
                  <label><i class="fa-solid fa-location-crosshairs me-2"></i>District</label>
                  <select id="district" name="district" class="form-select-custom" required>
                    <% if(typeof details !== 'undefined') { %>
                    <option value="<%= details.district %>" selected><%= details.district %></option>
                    <% } else { %>
                    <option value="" disabled selected>Select District</option>
                    <option value="Malappuram">Malappuram</option>
                    <% } %>
                  </select>
                </div>
              </div>

              <div class="col-md-6">
                <div class="input-group-custom">
                  <label>City / Town</label>
                  <input
                    type="text"
                    name="city"
                    class="form-control-custom"
                    placeholder="e.g. Manjeri"
                    value="<%= typeof details !== 'undefined' ? details.city : '' %>"
                    required
                  />
                </div>
              </div>

              <div class="col-md-6">
                <div class="input-group-custom">
                  <label>Pincode</label>
                  <input
                    type="number"
                    name="pincode"
                    class="form-control-custom"
                    placeholder="6-digit code"
                    value="<%= typeof details !== 'undefined' ? details.pincode : '' %>"
                    required
                  />
                </div>
              </div>

              <div class="col-12">
                <div class="input-group-custom">
                  <label>Street / Area Name</label>
                  <input
                    type="text"
                    name="street"
                    class="form-control-custom"
                    placeholder="Nearby landmark or area"
                    value="<%= typeof details !== 'undefined' ? details.street : '' %>"
                    required
                  />
                </div>
              </div>

              <div class="col-12">
                <div class="input-group-custom">
                  <label>House Number / Name</label>
                  <input
                    type="text"
                    name="houseNo"
                    class="form-control-custom"
                    placeholder="Building name or number"
                    value="<%= typeof details !== 'undefined' ? details.houseNo : '' %>"
                    required
                  />
                </div>
              </div>

              <div class="col-12 mt-5">
                <hr class="opacity-10" />
                <div class="d-flex gap-3">
                  <button type="submit" class="btn btn-dark btn-lg px-5 shadow-sm">Save Address</button>
                  <a href="/manageAddress" class="btn btn-outline-secondary btn-lg px-5">Cancel</a>
                </div>
              </div>
            </div>
          </form>
        </div>
      </main>

    </main>
</main>
</div>
<%- include('../layouts/footer.ejs') %>
